
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.6">
    
    
      
        <title>Configuration guide - Imposter Mocks</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.a57b2b03.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuration-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Imposter Mocks" class="md-header__button md-logo" aria-label="Imposter Mocks" data-md-component="logo">
      
  <img src="../images/plain_logo14.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Imposter Mocks
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration guide
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Imposter Mocks" class="md-nav__button md-logo" aria-label="Imposter Mocks" data-md-component="logo">
      
  <img src="../images/plain_logo14.png" alt="logo">

    </a>
    Imposter Mocks
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://www.imposter.sh" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Configuration guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Configuration guide
      </a>
      
        


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basics" class="md-nav__link">
    Basics
  </a>
  
    <nav class="md-nav" aria-label="Basics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returning-data" class="md-nav__link">
    Returning data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simple-static-responses" class="md-nav__link">
    Simple, static responses
  </a>
  
    <nav class="md-nav" aria-label="Simple, static responses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#response-configuration-options" class="md-nav__link">
    Response configuration options
  </a>
  
    <nav class="md-nav" aria-label="Response configuration options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-resource-example" class="md-nav__link">
    Single resource example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-resources-example" class="md-nav__link">
    Multiple resources example
  </a>
  
    <nav class="md-nav" aria-label="Multiple resources example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-response-configuration" class="md-nav__link">
    Default response configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-response-values" class="md-nav__link">
    Default response values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditional-responses" class="md-nav__link">
    Conditional responses
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#capturing-data" class="md-nav__link">
    Capturing data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    Environment variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    Security
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scripted-responses-advanced" class="md-nav__link">
    Scripted responses (advanced)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-matching-performance" class="md-nav__link">
    Resource matching performance
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../scripting/" class="md-nav__link">
        Scripting
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        Security
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Plugins
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Plugins" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Plugins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../openapi_plugin/" class="md-nav__link">
        OpenAPI (and Swagger) plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rest_plugin/" class="md-nav__link">
        REST plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hbase_plugin/" class="md-nav__link">
        HBase plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sfdc_plugin/" class="md-nav__link">
        SFDC (Salesforce) plugin
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Data capture, storage and templates
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data capture, storage and templates" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Data capture, storage and templates
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data_capture/" class="md-nav__link">
        Data capture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../templates/" class="md-nav__link">
        Response templates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../stores/" class="md-nav__link">
        Stores
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Advanced
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Advanced" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Advanced
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        Usage (arguments and environment variables)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../request_matching/" class="md-nav__link">
        Advanced request matching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../openapi_validation/" class="md-nav__link">
        OpenAPI validation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance_simulation/" class="md-nav__link">
        Performance simulation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../metrics_logs_telemetry/" class="md-nav__link">
        Metrics, logs and telemetry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance_tuning/" class="md-nav__link">
        Performance tuning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tls_ssl/" class="md-nav__link">
        TLS/SSL
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Other
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Other" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Other
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tips_tricks/" class="md-nav__link">
        Tips and tricks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../benchmarks/" class="md-nav__link">
        Benchmarks
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          Developers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developers" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Developers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/outofcoffee/imposter" class="md-nav__link">
        GitHub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../build/" class="md-nav__link">
        Build
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../roadmap/" class="md-nav__link">
        Roadmap
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12">
          Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://medium.com/@outofcoffee/mocking-apis-with-swagger-and-imposter-3694bd1733c0" class="md-nav__link">
        Mocking APIs with Swagger and Imposter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://medium.com/@outofcoffee/mocking-apis-with-imposter-53bd908632e5" class="md-nav__link">
        Mocking REST APIs with Imposter
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basics" class="md-nav__link">
    Basics
  </a>
  
    <nav class="md-nav" aria-label="Basics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returning-data" class="md-nav__link">
    Returning data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simple-static-responses" class="md-nav__link">
    Simple, static responses
  </a>
  
    <nav class="md-nav" aria-label="Simple, static responses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#response-configuration-options" class="md-nav__link">
    Response configuration options
  </a>
  
    <nav class="md-nav" aria-label="Response configuration options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-resource-example" class="md-nav__link">
    Single resource example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-resources-example" class="md-nav__link">
    Multiple resources example
  </a>
  
    <nav class="md-nav" aria-label="Multiple resources example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-response-configuration" class="md-nav__link">
    Default response configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-response-values" class="md-nav__link">
    Default response values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditional-responses" class="md-nav__link">
    Conditional responses
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#capturing-data" class="md-nav__link">
    Capturing data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    Environment variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    Security
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scripted-responses-advanced" class="md-nav__link">
    Scripted responses (advanced)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-matching-performance" class="md-nav__link">
    Resource matching performance
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="configuration-guide">Configuration guide</h1>
<p>Read this section to learn how to configure Imposter.</p>
<h2 id="basics">Basics</h2>
<p>Imposter configuration files are in YAML or JSON format. They must be named with a <code>-config.yaml</code> or <code>-config.json</code> suffix. For example: <code>mymock-config.yaml</code>.</p>
<p>Here is an example configuration file:</p>
<pre><code class="language-yaml"># simple-example-config.yaml
---
plugin: rest
path: &quot;/example&quot;
response:
  staticFile: example-data.json
</code></pre>
<p>Or, in JSON format:</p>
<pre><code class="language-json">{
  &quot;plugin&quot;: &quot;rest&quot;,
  &quot;path&quot;: &quot;/example&quot;,
  &quot;response&quot;: {
    &quot;staticFile&quot;: &quot;example-data.json&quot;
  }
}
</code></pre>
<p><strong>Note:</strong> You must specify the plugin to use in the configuration file. See the list of <a href="../features_plugins/">plugins</a> for possible values.</p>
<h3 id="returning-data">Returning data</h3>
<p>You can control the data Imposter sends back using response files. The response file is used by the active plugin to generate a response. For example, the <a href="../rest_plugin/">REST plugin</a> might return the content of the file unmodified, whereas the <a href="../hbase_plugin/">HBase</a> and <a href="../sfdc_plugin/">SFDC</a> plugins use the response file to generate responses that mimic their respective systems.</p>
<p>Response files can be named anything you like; their path is resolved relative to the configuration file.</p>
<h2 id="simple-static-responses">Simple, static responses</h2>
<p>For simple scenarios, use the <code>staticFile</code> property within the <code>response</code> object in your configuration.</p>
<p>In the example above, we are using a static response file (<code>example-data.json</code>) containing the following:</p>
<pre><code class="language-json">{
  &quot;hello&quot;: &quot;world&quot;
}
</code></pre>
<p>Using the configuration above, if we were to send an HTTP request to the <code>/example</code> path defined in the configuration file, we would see:</p>
<pre><code>HTTP GET http://localhost:8080/example
...
HTTP/1.1 200 OK
...
{
  "hello": "world"
}
</code></pre>
<p>The plugin has returned the contents of the <code>staticFile</code> in the HTTP response.</p>
<p>Your response files can also be templated - that is, contain placeholders for substituted at runtime. See <a href="../templates/">templates</a> for more information.</p>
<h3 id="response-configuration-options">Response configuration options</h3>
<p>You can specify other properties of the response, such as status code and headers. Here is a more complete example:</p>
<h4 id="single-resource-example">Single resource example</h4>
<pre><code class="language-yaml"># single-response-config.yaml
---
plugin: rest
path: &quot;/example&quot;
method: POST
contentType: &quot;application/json&quot;
response:
  staticFile: data.json
  statusCode: 201
  headers:
    X-Custom-Header: foo
</code></pre>
<p>A few things to call out:</p>
<ul>
<li>This endpoint will only be accessible via the <code>POST</code> HTTP method</li>
<li>We've indicated that status code 201 should be returned</li>
<li>We've set the content type of the response to JSON</li>
<li>A custom header will be returned</li>
</ul>
<h4 id="multiple-resources-example">Multiple resources example</h4>
<p>The <a href="../openapi_plugin/">OpenAPI plugin</a> and <a href="../rest_plugin/">REST plugin</a> allow you to specify multiple resources, using the <code>resources</code> array. Each resource can have its own path, method, response behaviour etc.</p>
<pre><code class="language-yaml"># multi-response-config.yaml
---
plugin: rest
resources:
- path: &quot;/example1&quot;
  contentType: &quot;application/json&quot;
  method: GET
  response:
    staticFile: data1.json
    statusCode: 200
    headers:
      X-Custom-Header: foo

- path: &quot;/example2&quot;
  contentType: &quot;text/plain&quot;
  method: POST
  response:
    statusCode: 201
    headers:
      X-Custom-Header: bar
    staticData: |
      This is some
      multiline response data.
</code></pre>
<h5 id="default-response-configuration">Default response configuration</h5>
<p>In some cases, you might want to define default response configuration, e.g. a header that should be sent in all responses. To do this, set the <code>defaultsFromRootResponse: true</code> option, as follows:</p>
<pre><code class="language-yaml">plugin: rest

# root response config should be inherited
defaultsFromRootResponse: true

response:
  headers:
    X-Always-Present: Yes

resources:
- method: GET
  path: /example1
  response:
    staticData: &quot;Hello world&quot;

- method: GET
  path: /example2
  response:
    staticData: &quot;Lorem ipsum&quot;
</code></pre>
<p>In this example, responses to both <code>/example1</code> and <code>/example2</code> will have the header <code>X-Always-Present: Yes</code> set, as it is inherited from the root configuration.</p>
<blockquote>
<p>See <a href="https://github.com/outofcoffee/imposter/blob/master/docs/examples/rest/default-response-config">default-response-config</a> for an example.</p>
</blockquote>
<h4 id="default-response-values">Default response values</h4>
<p>If unset by configuration or a script, the default values for response configuration fields are as follows:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Plugin(s)</th>
<th>Type</th>
<th>Default</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>contentType</code></td>
<td>all</td>
<td>String</td>
<td><code>application/json</code>, or determined from static file</td>
<td><code>text/plain</code></td>
</tr>
<tr>
<td><code>response.statusCode</code></td>
<td>openapi, rest</td>
<td>Integer (HTTP status)</td>
<td><code>200</code></td>
<td><code>201</code></td>
</tr>
<tr>
<td><code>response.staticData</code></td>
<td>openapi, rest</td>
<td>String</td>
<td>empty</td>
<td><code>hello world</code></td>
</tr>
<tr>
<td><code>response.staticFile</code></td>
<td>all</td>
<td>String</td>
<td>empty</td>
<td><code>data.json</code></td>
</tr>
<tr>
<td><code>response.headers</code></td>
<td>openapi, rest</td>
<td>Map of String:String</td>
<td>empty</td>
<td><code>{ "X-Custom-Header": "value" }</code></td>
</tr>
</tbody>
</table>
<h2 id="conditional-responses">Conditional responses</h2>
<p>You can make Imposter respond with different values based on certain properties of the request in your configuration file, or using the script engine.</p>
<blockquote>
<p>For information about the script engine, see the <a href="../scripting/">Scripting</a> documentation.</p>
</blockquote>
<p>Configure different response behaviours based on the following request attributes:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Plugin(s)</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>path</code></td>
<td>all</td>
<td>String</td>
<td><code>/example/path</code></td>
</tr>
<tr>
<td><code>method</code></td>
<td>openapi, rest</td>
<td>String (HTTP method)</td>
<td><code>POST</code></td>
</tr>
<tr>
<td><code>pathParams</code></td>
<td>openapi, rest</td>
<td>Map of String:String</td>
<td><code>{ "productCode": "abc" }</code></td>
</tr>
<tr>
<td><code>queryParams</code></td>
<td>openapi, rest</td>
<td>Map of String:String</td>
<td><code>{ "limit": "10" }</code></td>
</tr>
<tr>
<td><code>requestHeaders</code></td>
<td>openapi, rest</td>
<td>Map of String:String</td>
<td><code>{ "User-Agent": "curl" }</code></td>
</tr>
<tr>
<td><code>requestBody</code></td>
<td>openapi, rest</td>
<td>Request body matching configuration</td>
<td>See <a href="../request_matching/">advanced matching</a></td>
</tr>
</tbody>
</table>
<p>Here is an example showing all fields:</p>
<pre><code class="language-yaml">plugin: openapi
specFile: apispec.yaml

resources:
  # handles GET /pets?page=1
  - path: &quot;/pets&quot;
    method: GET
    queryParams:
      page: 1
    response:
      statusCode: 200

  # handles GET /pets/10
  - path: &quot;/pets/:petId&quot;
    method: GET
    pathParams:
      petId: 10
    response:
      statusCode: 401
      staticData: &quot;You do not have permission to view this pet.&quot;

  # handles PUT /pets/:petId with a request header 'X-Pet-Username: foo'
  - path: &quot;/pets/:petId&quot;
    method: PUT
    requestHeaders:
      X-Pet-Username: foo
    response:
      statusCode: 409
      staticData: &quot;Username already exists.&quot;
</code></pre>
<h2 id="capturing-data">Capturing data</h2>
<p>Imposter allows you to capture elements of the request. You can use these elements in a <a href="../templates/">response template</a>, a <a href="../scripting/">script</a> or add them to a <a href="../stores/">store</a> for later use. See <a href="../data_capture/">data capture</a> for more information.</p>
<h2 id="environment-variables">Environment variables</h2>
<p>You can use environment variables as placeholders in plugin configuration files.</p>
<pre><code class="language-yaml"># A plugin configuration using an environment variable.
---
plugin: rest
path: /example
response:
  staticData: &quot;${env.EXAMPLE_RESPONSE}&quot;
</code></pre>
<p>Here the environment variable <code>EXAMPLE_RESPONSE</code> will be substituted into the configuration. For example, if the variable was set as follows:</p>
<pre><code>EXAMPLE_RESPONSE=&quot;Hello&quot;
</code></pre>
<p>...then the static data <code>Hello</code> will be returned.</p>
<blockquote>
<p>You can use environment variables anywhere within your configuration files, for example, in the <code>security</code> section to avoid including secrets in your configuration files. </p>
</blockquote>
<h2 id="security">Security</h2>
<p>Imposter can require specific header values to authenticate incoming HTTP requests. <a href="../security/">Read about how to do this</a>.</p>
<h2 id="scripted-responses-advanced">Scripted responses (advanced)</h2>
<p>For more advanced scenarios, you can also control Imposter's responses using JavaScript or Groovy scripts.</p>
<p>See the <a href="../scripting/">Scripting</a> section for more information.</p>
<h2 id="resource-matching-performance">Resource matching performance</h2>
<p>Resource matching is typically the fastest method of providing conditional responses. This is the case for request properties such as headers, query parameters, path parameters, path and HTTP method. In the case of using <a href="../request_matching/">JsonPath to query the request body</a> to conditionally match resources, however, the body must be parsed, which is computationally expensive and will result in lower performance.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../getting_started/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Getting started" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Getting started
            </div>
          </div>
        </a>
      
      
        
        <a href="../scripting/" class="md-footer__link md-footer__link--next" aria-label="Next: Scripting" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Scripting
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.fcfe8b6d.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.b1047164.min.js"></script>
      
    
  </body>
</html>